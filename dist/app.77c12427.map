{"version":3,"sources":["src/js/app.js"],"names":["document","addEventListener","console","log","inputScreen","getElementById","display","input","output","reg","current","doingCalc","buttons","querySelectorAll","map","button","event","handleClick","updateScreen","innerText","onlyOneOperator","op","n","length","slice","add","substract","alert","multiply","divide","equal","verif","match","eval","clear","inputKey","target","value","testDeReg"],"mappings":"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","file":"app.77c12427.map","sourceRoot":"..","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\r\n  console.log(\"hello\")\r\n\r\n  const inputScreen = document.getElementById(\"input\")\r\n  const display = document.getElementById(\"display\")\r\n  let input = \"0\"\r\n  let output = \"\"\r\n  const reg = /\\./gm\r\n  let current = \"\"\r\n  let doingCalc = true\r\n\r\n  //rend les chiffres clickable\r\n  const buttons = [...document.querySelectorAll(\".num\")].map(button =>\r\n    button.addEventListener(\"click\", event => {\r\n      handleClick(event)\r\n    })\r\n  )\r\n\r\n  //update inputScreen\r\n  function updateScreen(input) {\r\n    current += input\r\n    inputScreen.innerText = current\r\n    doingCalc = true\r\n  }\r\n\r\n  //handle repeat operator\r\n  function onlyOneOperator(op) {\r\n    console.log(\"output dans repeat op => \", output)\r\n    const n = output.length - 1\r\n    console.log(\"output dans onlyOneOperator => \", output[n])\r\n    if (\r\n      output[n] === \"/\" ||\r\n      output[n] === \"*\" ||\r\n      output[n] === \"-\" ||\r\n      output[n] === \"+\"\r\n    ) {\r\n      output = output.slice(0, n)\r\n      console.log(\"output apres modif => \", output)\r\n    }\r\n    console.log(\"IMPOSSIBLE\")\r\n    return\r\n  }\r\n\r\n  //handle add\r\n  const add = document\r\n    .getElementById(\"add\")\r\n    .addEventListener(\"click\", event => {\r\n      console.log(\"you want add\")\r\n      if (current[current.length - 2] === \"+\") {\r\n        return\r\n      }\r\n      output += input\r\n      onlyOneOperator(\"+\")\r\n      output += \"+\"\r\n      input = \"\"\r\n      display.innerText = \"+\"\r\n      updateScreen(\" + \")\r\n      //doingCalc = true\r\n      console.log(\"output => \", output)\r\n    })\r\n\r\n  //handle substract\r\n  const substract = document\r\n    .getElementById(\"subtract\")\r\n    .addEventListener(\"click\", () => {\r\n      if (current[current.length - 2] === \"-\") {\r\n        alert(\"Impossible\")\r\n        return\r\n      }\r\n      output += input\r\n      onlyOneOperator(\"-\")\r\n      output += \"-\"\r\n      input = \"\"\r\n      display.innerText = \"-\"\r\n      updateScreen(\" - \")\r\n      doingCalc = true\r\n      console.log(\"output => \", output)\r\n    })\r\n\r\n  //handle multiply\r\n  const multiply = document\r\n    .getElementById(\"multiply\")\r\n    .addEventListener(\"click\", () => {\r\n      if (current[current.length - 2] === \"*\") {\r\n        alert(\"Impossible\")\r\n        return\r\n      }\r\n      output += input\r\n      onlyOneOperator(\"*\")\r\n      output += \"*\"\r\n      input = \"\"\r\n      display.innerText = \"x\"\r\n      updateScreen(\" x \")\r\n      doingCalc = true\r\n      console.log(\"output => \", output)\r\n    })\r\n\r\n  //handle divide\r\n  const divide = document\r\n    .getElementById(\"divide\")\r\n    .addEventListener(\"click\", () => {\r\n      if (current[current.length - 2] === \"/\") {\r\n        alert(\"Impossible\")\r\n        return\r\n      }\r\n      output += input\r\n      onlyOneOperator(\"/\")\r\n      output += \"/\"\r\n      input = \"\"\r\n      display.innerText = \"/\"\r\n      updateScreen(\" / \")\r\n      doingCalc = true\r\n      console.log(\"output => \", output)\r\n    })\r\n\r\n  // handle equal\r\n  const equal = document\r\n    .getElementById(\"equals\")\r\n    .addEventListener(\"click\", event => {\r\n      if (\r\n        current[current.length - 2] === \"+\" ||\r\n        current[current.length - 2] === \"-\" ||\r\n        current[current.length - 2] === \"/\" ||\r\n        current[current.length - 2] === \"*\"\r\n      ) {\r\n        alert(\"Impossible\")\r\n        return\r\n      }\r\n\r\n      output += input\r\n      console.log(output)\r\n      const reg = /\\+|-|\\*|\\//gm\r\n      const verif = output.match(reg)\r\n      if (output.length > 1 && verif) {\r\n        console.log(eval(output))\r\n        input = eval(output)\r\n        display.innerText = input\r\n        updateScreen(\" = \" + input)\r\n        output = input\r\n        input = \"\"\r\n        doingCalc = false\r\n      }\r\n      return\r\n    })\r\n\r\n  // handle clear button\r\n  const clear = document\r\n    .getElementById(\"clear\")\r\n    .addEventListener(\"click\", () => {\r\n      console.log(\"on reset\")\r\n      input = \"0\"\r\n      output = \"\"\r\n      current = \"\"\r\n      display.innerText = input\r\n      inputScreen.innerText = current\r\n      doingCalc = true\r\n    })\r\n\r\n  //handle click number\r\n  function handleClick(event) {\r\n    if (doingCalc) {\r\n      const inputKey = event.target.value\r\n      console.log(\"inputKey => \", inputKey)\r\n      const testDeReg = input.match(reg)\r\n      console.log(\"testDeReg => \", testDeReg)\r\n      if (inputKey === \".\" && testDeReg) {\r\n        return\r\n      } else if (input === \"0\" && inputKey !== \".\") {\r\n        input = inputKey\r\n        display.innerText = input\r\n        updateScreen(inputKey)\r\n        return\r\n      }\r\n      input += inputKey\r\n      display.innerText = input\r\n      updateScreen(inputKey)\r\n      doingCalc = true\r\n      console.log(\"input => \", input)\r\n    }\r\n    return\r\n  }\r\n})\r\n"]}